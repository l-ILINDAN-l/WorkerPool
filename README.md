# Worker Pool

`Worker Pool` - это консольное приложение на Go, демонстрирующее реализацию пула воркеров с возможностью динамического масштабирования. Приложение использует `Cobra` для создания CLI интерфейса, `Viper` для конфигурации и `Logrus` для логирования.

## Основные возможности
* **Динамическое масштабирование**: Добавляйте или удаляйте воркеров "на лету" во время работы приложения.
* **Обработка задач**: Отправляйте строковые задачи, которые будут немедленно подхвачены и обработаны доступными воркерами.
* **Конфигурация через файл**: Управляйте начальным количеством воркеров через YAML-файл.
* **Структурированное логирование**: Наглядное отслеживание всех событий в пуле, от запуска воркеров до обработки задач.
* **Автоматическая документация**: Встроенная команда для генерации документации по CLI командам.

## Требования
- Go 1.18+

## Установка и запуск

1.  **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/l-ILINDAN-l/WorkerPool
    cd WorkerPool
    ```

2.  **Установите зависимости:**
    ```bash
    go mod tidy
    ```

3.  **Создайте файл конфигурации:**
    Создайте в корне проекта файл с именем `.worker-pool.yaml` и добавьте в него следующее содержимое:
    ```yaml
    workers:
      # Задает начальное количество воркеров при старте приложения
      initial: 3
    ```
    *Вы можете изменить значение `initial` на любое желаемое.*

4.  **Запустите приложение:**
    Для запуска интерактивного режима выполните команду `run`.
    ```bash
    go run . run
    ```

## Использование
После запуска приложение перейдет в интерактивный режим. Вы можете вводить следующие команды:

- `add` - Добавить нового воркера в пул.
- `remove` - Удалить одного воркера из пула (удаляется воркер с самым большим ID).
- `exit` - Остановить всех воркеров и завершить работу приложения.
- `любой другой текст` - Любая другая введенная строка будет отправлена в пул как задача на обработку.

### Пример сессии:
```bash
    add
    hello world
    remove
    exit
```